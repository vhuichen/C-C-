<!DOCTYPE HTML>
<html lang="zh-hans">
 <head>
  <meta charset="utf-8"/>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   Chapter 7-2 &middot; NoteBook
  </title>
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
   <meta content="" name="description"/>
   <meta content="GitBook 3.2.3" name="generator"/>
   <meta content="vhuichen" name="author"/>
   <link href="../../../gitbook/style.css" rel="stylesheet"/>
   <link href="../../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css" rel="stylesheet"/>
   <link href="../../../gitbook/gitbook-plugin-search-pro/search.css" rel="stylesheet"/>
   <link href="../../../gitbook/gitbook-plugin-highlight/website.css" rel="stylesheet"/>
   <link href="../../../gitbook/gitbook-plugin-fontsettings/website.css" rel="stylesheet"/>
   <meta content="true" name="HandheldFriendly">
    <meta content="width=device-width, initial-scale=1, user-scalable=no" name="viewport"/>
    <meta content="yes" name="apple-mobile-web-app-capable"/>
    <meta content="black" name="apple-mobile-web-app-status-bar-style"/>
    <link href="../../../gitbook/images/apple-touch-icon-precomposed-152.png" rel="apple-touch-icon-precomposed" sizes="152x152"/>
    <link href="../../../gitbook/images/favicon.ico" rel="shortcut icon" type="image/x-icon"/>
    <link href="../../工具/工具.html" rel="next">
     <link href="Chapter 7-1.html" rel="prev">
     </link>
    </link>
   </meta>
  </meta>
 </head>
 <body>
  <div class="book">
   <div class="book-summary">
    <div id="book-search-input" role="search">
     <input placeholder="输入并搜索" type="text"/>
    </div>
    <nav role="navigation">
     <ul class="summary">
      <li class="chapter" data-level="1.1" data-path="../../../">
       <a href="../../../">
        Introduction
       </a>
      </li>
      <li class="chapter" data-level="1.2" data-path="../../../Algorithm/Algorithm.html">
       <a href="../../../Algorithm/Algorithm.html">
        Algorithm
       </a>
       <ul class="articles">
        <li class="chapter" data-level="1.2.1" data-path="../../../Algorithm/尾调用优化.html">
         <a href="../../../Algorithm/尾调用优化.html">
          尾调用优化
         </a>
        </li>
        <li class="chapter" data-level="1.2.2" data-path="../../../Algorithm/时间复杂度.html">
         <a href="../../../Algorithm/时间复杂度.html">
          时间复杂度
         </a>
        </li>
       </ul>
      </li>
      <li class="chapter" data-level="1.3" data-path="../../../C++/C++.html">
       <a href="../../../C++/C++.html">
        C++
       </a>
       <ul class="articles">
        <li class="chapter" data-level="1.3.1" data-path="../../../C++/问题集.html">
         <a href="../../../C++/问题集.html">
          问题集
         </a>
        </li>
       </ul>
      </li>
      <li class="chapter" data-level="1.4" data-path="../../../Computer/Computer.html">
       <a href="../../../Computer/Computer.html">
        Computer
       </a>
       <ul class="articles">
        <li class="chapter" data-level="1.4.1" data-path="../../../Computer/Homebrew.html">
         <a href="../../../Computer/Homebrew.html">
          Homebrew
         </a>
        </li>
        <li class="chapter" data-level="1.4.2" data-path="../../../Computer/yum.html">
         <a href="../../../Computer/yum.html">
          yum
         </a>
        </li>
        <li class="chapter" data-level="1.4.3" data-path="../../../Computer/编码/编码.html">
         <a href="../../../Computer/编码/编码.html">
          编码
         </a>
         <ul class="articles">
          <li class="chapter" data-level="1.4.3.1" data-path="../../../Computer/编码/Base64.html">
           <a href="../../../Computer/编码/Base64.html">
            Base64
           </a>
          </li>
          <li class="chapter" data-level="1.4.3.2" data-path="../../../Computer/编码/哈夫曼编码.html">
           <a href="../../../Computer/编码/哈夫曼编码.html">
            哈夫曼编码
           </a>
          </li>
         </ul>
        </li>
        <li class="chapter" data-level="1.4.4" data-path="../../../Computer/加密解密/加密解密.html">
         <a href="../../../Computer/加密解密/加密解密.html">
          加密解密
         </a>
         <ul class="articles">
          <li class="chapter" data-level="1.4.4.1" data-path="../../../Computer/加密解密/AES、DES.html">
           <a href="../../../Computer/加密解密/AES、DES.html">
            AES、DES
           </a>
          </li>
          <li class="chapter" data-level="1.4.4.2" data-path="../../../Computer/加密解密/MD5.html">
           <a href="../../../Computer/加密解密/MD5.html">
            MD5
           </a>
          </li>
          <li class="chapter" data-level="1.4.4.3" data-path="../../../Computer/加密解密/SHA256.html">
           <a href="../../../Computer/加密解密/SHA256.html">
            SHA256
           </a>
          </li>
         </ul>
        </li>
        <li class="chapter" data-level="1.4.5" data-path="../../../Computer/操作系统/操作系统.html">
         <a href="../../../Computer/操作系统/操作系统.html">
          操作系统
         </a>
         <ul class="articles">
          <li class="chapter" data-level="1.4.5.1" data-path="../../../Computer/操作系统/线程&amp;进程.html">
           <a href="../../../Computer/操作系统/线程&amp;进程.html">
            线程&amp;进程
           </a>
          </li>
         </ul>
        </li>
        <li class="chapter" data-level="1.4.6" data-path="../../../Computer/计算机基础/计算机基础.html">
         <a href="../../../Computer/计算机基础/计算机基础.html">
          计算机基础
         </a>
         <ul class="articles">
          <li class="chapter" data-level="1.4.6.1" data-path="../../../Computer/计算机基础/SSH.html">
           <a href="../../../Computer/计算机基础/SSH.html">
            SSH
           </a>
          </li>
          <li class="chapter" data-level="1.4.6.2" data-path="../../../Computer/计算机基础/文本流&amp;二进制流.html">
           <a href="../../../Computer/计算机基础/文本流&amp;二进制流.html">
            文本流&amp;二进制流
           </a>
          </li>
          <li class="chapter" data-level="1.4.6.3" data-path="../../../Computer/计算机基础/正则表达式.html">
           <a href="../../../Computer/计算机基础/正则表达式.html">
            正则表达式
           </a>
          </li>
         </ul>
        </li>
       </ul>
      </li>
      <li class="chapter" data-level="1.5" data-path="../../../C语言/C语言.html">
       <a href="../../../C语言/C语言.html">
        C语言
       </a>
       <ul class="articles">
        <li class="chapter" data-level="1.5.1" data-path="../../../C语言/time.html">
         <a href="../../../C语言/time.html">
          time
         </a>
        </li>
       </ul>
      </li>
      <li class="chapter" data-level="1.6" data-path="../../../Daily/Daily.html">
       <a href="../../../Daily/Daily.html">
        Daily
       </a>
       <ul class="articles">
        <li class="chapter" data-level="1.6.1" data-path="../../../Daily/2023.html">
         <a href="../../../Daily/2023.html">
          2023
         </a>
        </li>
        <li class="chapter" data-level="1.6.2" data-path="../../../Daily/2024.html">
         <a href="../../../Daily/2024.html">
          2024
         </a>
        </li>
        <li class="chapter" data-level="1.6.3">
         <span>
          Record
         </span>
         <ul class="articles">
          <li class="chapter" data-level="1.6.3.1" data-path="../../../Daily/Record/2024-03.html">
           <a href="../../../Daily/Record/2024-03.html">
            2024-03
           </a>
          </li>
         </ul>
        </li>
       </ul>
      </li>
      <li class="chapter" data-level="1.7" data-path="../../../DesignPattern/DesignPattern.html">
       <a href="../../../DesignPattern/DesignPattern.html">
        DesignPattern
       </a>
      </li>
      <li class="chapter" data-level="1.8" data-path="../../../Flutter/Flutter.html">
       <a href="../../../Flutter/Flutter.html">
        Flutter
       </a>
       <ul class="articles">
        <li class="chapter" data-level="1.8.1" data-path="../../../Flutter/Channel.html">
         <a href="../../../Flutter/Channel.html">
          Channel
         </a>
        </li>
        <li class="chapter" data-level="1.8.2" data-path="../../../Flutter/Dart知识点.html">
         <a href="../../../Flutter/Dart知识点.html">
          Dart知识点
         </a>
        </li>
        <li class="chapter" data-level="1.8.3" data-path="../../../Flutter/Flutter知识点.html">
         <a href="../../../Flutter/Flutter知识点.html">
          Flutter知识点
         </a>
        </li>
        <li class="chapter" data-level="1.8.4" data-path="../../../Flutter/Flutter高级进阶实战.html">
         <a href="../../../Flutter/Flutter高级进阶实战.html">
          Flutter高级进阶实战
         </a>
        </li>
        <li class="chapter" data-level="1.8.5" data-path="../../../Flutter/Widget.html">
         <a href="../../../Flutter/Widget.html">
          Widget
         </a>
        </li>
        <li class="chapter" data-level="1.8.6" data-path="../../../Flutter/Widget生命周期.html">
         <a href="../../../Flutter/Widget生命周期.html">
          Widget生命周期
         </a>
        </li>
        <li class="chapter" data-level="1.8.7" data-path="../../../Flutter/树.html">
         <a href="../../../Flutter/树.html">
          树
         </a>
        </li>
        <li class="chapter" data-level="1.8.8" data-path="../../../Flutter/课程/课程.html">
         <a href="../../../Flutter/课程/课程.html">
          课程
         </a>
         <ul class="articles">
          <li class="chapter" data-level="1.8.8.1" data-path="../../../Flutter/课程/Flutter核心技术与实战.html">
           <a href="../../../Flutter/课程/Flutter核心技术与实战.html">
            Flutter核心技术与实战
           </a>
          </li>
         </ul>
        </li>
        <li class="chapter" data-level="1.8.9" data-path="../../../Flutter/实例.html">
         <a href="../../../Flutter/实例.html">
          实例
         </a>
        </li>
        <li class="chapter" data-level="1.8.10" data-path="../../../Flutter/问题集.html">
         <a href="../../../Flutter/问题集.html">
          问题集
         </a>
        </li>
       </ul>
      </li>
      <li class="chapter" data-level="1.9" data-path="../../../Ruby/Ruby.html">
       <a href="../../../Ruby/Ruby.html">
        Ruby
       </a>
      </li>
      <li class="chapter" data-level="1.10" data-path="../../../Shell/Shell.html">
       <a href="../../../Shell/Shell.html">
        Shell
       </a>
       <ul class="articles">
        <li class="chapter" data-level="1.10.1" data-path="../../../Shell/命令/命令.html">
         <a href="../../../Shell/命令/命令.html">
          命令
         </a>
         <ul class="articles">
          <li class="chapter" data-level="1.10.1.1" data-path="../../../Shell/命令/array.html">
           <a href="../../../Shell/命令/array.html">
            array
           </a>
          </li>
          <li class="chapter" data-level="1.10.1.2" data-path="../../../Shell/命令/cp.html">
           <a href="../../../Shell/命令/cp.html">
            cp
           </a>
          </li>
          <li class="chapter" data-level="1.10.1.3" data-path="../../../Shell/命令/echo.html">
           <a href="../../../Shell/命令/echo.html">
            echo
           </a>
          </li>
          <li class="chapter" data-level="1.10.1.4" data-path="../../../Shell/命令/find.html">
           <a href="../../../Shell/命令/find.html">
            find
           </a>
          </li>
          <li class="chapter" data-level="1.10.1.5" data-path="../../../Shell/命令/for.html">
           <a href="../../../Shell/命令/for.html">
            for
           </a>
          </li>
          <li class="chapter" data-level="1.10.1.6" data-path="../../../Shell/命令/grep.html">
           <a href="../../../Shell/命令/grep.html">
            grep
           </a>
          </li>
          <li class="chapter" data-level="1.10.1.7" data-path="../../../Shell/命令/iconv.html">
           <a href="../../../Shell/命令/iconv.html">
            iconv
           </a>
          </li>
          <li class="chapter" data-level="1.10.1.8" data-path="../../../Shell/命令/if.html">
           <a href="../../../Shell/命令/if.html">
            if
           </a>
          </li>
          <li class="chapter" data-level="1.10.1.9" data-path="../../../Shell/命令/ln.html">
           <a href="../../../Shell/命令/ln.html">
            ln
           </a>
          </li>
          <li class="chapter" data-level="1.10.1.10" data-path="../../../Shell/命令/mv.html">
           <a href="../../../Shell/命令/mv.html">
            mv
           </a>
          </li>
          <li class="chapter" data-level="1.10.1.11" data-path="../../../Shell/命令/read.html">
           <a href="../../../Shell/命令/read.html">
            read
           </a>
          </li>
          <li class="chapter" data-level="1.10.1.12" data-path="../../../Shell/命令/rename.html">
           <a href="../../../Shell/命令/rename.html">
            rename
           </a>
          </li>
          <li class="chapter" data-level="1.10.1.13" data-path="../../../Shell/命令/rm.html">
           <a href="../../../Shell/命令/rm.html">
            rm
           </a>
          </li>
          <li class="chapter" data-level="1.10.1.14" data-path="../../../Shell/命令/sed.html">
           <a href="../../../Shell/命令/sed.html">
            sed
           </a>
          </li>
          <li class="chapter" data-level="1.10.1.15" data-path="../../../Shell/命令/unzip.html">
           <a href="../../../Shell/命令/unzip.html">
            unzip
           </a>
          </li>
          <li class="chapter" data-level="1.10.1.16" data-path="../../../Shell/命令/xargs.html">
           <a href="../../../Shell/命令/xargs.html">
            xargs
           </a>
          </li>
         </ul>
        </li>
        <li class="chapter" data-level="1.10.2" data-path="../../../Shell/用例.html">
         <a href="../../../Shell/用例.html">
          用例
         </a>
        </li>
        <li class="chapter" data-level="1.10.3" data-path="../../../Shell/基本语法.html">
         <a href="../../../Shell/基本语法.html">
          基本语法
         </a>
        </li>
        <li class="chapter" data-level="1.10.4" data-path="../../../Shell/组合命令.html">
         <a href="../../../Shell/组合命令.html">
          组合命令
         </a>
        </li>
       </ul>
      </li>
      <li class="chapter" data-level="1.11" data-path="../../../Swift/Swift.html">
       <a href="../../../Swift/Swift.html">
        Swift
       </a>
       <ul class="articles">
        <li class="chapter" data-level="1.11.1" data-path="../../../Swift/ABI稳定、模块稳定.html">
         <a href="../../../Swift/ABI稳定、模块稳定.html">
          ABI稳定、模块稳定
         </a>
        </li>
        <li class="chapter" data-level="1.11.2" data-path="../../../Swift/as.html">
         <a href="../../../Swift/as.html">
          as
         </a>
        </li>
        <li class="chapter" data-level="1.11.3">
         <span>
          第三方库
         </span>
         <ul class="articles">
          <li class="chapter" data-level="1.11.3.1" data-path="../../../Swift/第三方库/Alamofire.html">
           <a href="../../../Swift/第三方库/Alamofire.html">
            Alamofire
           </a>
          </li>
          <li class="chapter" data-level="1.11.3.2" data-path="../../../Swift/第三方库/PromiseKit.html">
           <a href="../../../Swift/第三方库/PromiseKit.html">
            PromiseKit
           </a>
          </li>
          <li class="chapter" data-level="1.11.3.3" data-path="../../../Swift/第三方库/RxSwift/RxSwift.html">
           <a href="../../../Swift/第三方库/RxSwift/RxSwift.html">
            RxSwift
           </a>
           <ul class="articles">
            <li class="chapter" data-level="1.11.3.3.1" data-path="../../../Swift/第三方库/RxSwift/Interview.html">
             <a href="../../../Swift/第三方库/RxSwift/Interview.html">
              Interview
             </a>
            </li>
            <li class="chapter" data-level="1.11.3.3.2" data-path="../../../Swift/第三方库/RxSwift/Relay.html">
             <a href="../../../Swift/第三方库/RxSwift/Relay.html">
              Relay
             </a>
            </li>
            <li class="chapter" data-level="1.11.3.3.3" data-path="../../../Swift/第三方库/RxSwift/Subject.html">
             <a href="../../../Swift/第三方库/RxSwift/Subject.html">
              Subject
             </a>
            </li>
           </ul>
          </li>
         </ul>
        </li>
        <li class="chapter" data-level="1.11.4" data-path="../../../Swift/访问权限修饰符.html">
         <a href="../../../Swift/访问权限修饰符.html">
          访问权限修饰符
         </a>
        </li>
       </ul>
      </li>
      <li class="chapter" data-level="1.12" data-path="../../../Thinking/Thinking.html">
       <a href="../../../Thinking/Thinking.html">
        Thinking
       </a>
      </li>
      <li class="chapter" data-level="1.13" data-path="../../../Tool/Tool.html">
       <a href="../../../Tool/Tool.html">
        Tool
       </a>
       <ul class="articles">
        <li class="chapter" data-level="1.13.1" data-path="../../../Tool/Fastlane/Fastlane.html">
         <a href="../../../Tool/Fastlane/Fastlane.html">
          Fastlane
         </a>
         <ul class="articles">
          <li class="chapter" data-level="1.13.1.1" data-path="../../../Tool/Fastlane/Fastlane问题记录.html">
           <a href="../../../Tool/Fastlane/Fastlane问题记录.html">
            Fastlane问题记录
           </a>
          </li>
         </ul>
        </li>
        <li class="chapter" data-level="1.13.2" data-path="../../../Tool/Git/Git.html">
         <a href="../../../Tool/Git/Git.html">
          Git
         </a>
         <ul class="articles">
          <li class="chapter" data-level="1.13.2.1" data-path="../../../Tool/Git/rebase.html">
           <a href="../../../Tool/Git/rebase.html">
            rebase
           </a>
          </li>
          <li class="chapter" data-level="1.13.2.2" data-path="../../../Tool/Git/reset.html">
           <a href="../../../Tool/Git/reset.html">
            reset
           </a>
          </li>
          <li class="chapter" data-level="1.13.2.3" data-path="../../../Tool/Git/submodule.html">
           <a href="../../../Tool/Git/submodule.html">
            submodule
           </a>
          </li>
         </ul>
        </li>
        <li class="chapter" data-level="1.13.3" data-path="../../../Tool/Markdown/Markdown.html">
         <a href="../../../Tool/Markdown/Markdown.html">
          Markdown
         </a>
         <ul class="articles">
          <li class="chapter" data-level="1.13.3.1" data-path="../../../Tool/Markdown/Flow.html">
           <a href="../../../Tool/Markdown/Flow.html">
            Flow
           </a>
          </li>
          <li class="chapter" data-level="1.13.3.2" data-path="../../../Tool/Markdown/Mermaid.html">
           <a href="../../../Tool/Markdown/Mermaid.html">
            Mermaid
           </a>
          </li>
          <li class="chapter" data-level="1.13.3.3" data-path="../../../Tool/Markdown/PlantUML.html">
           <a href="../../../Tool/Markdown/PlantUML.html">
            PlantUML
           </a>
          </li>
          <li class="chapter" data-level="1.13.3.4" data-path="../../../Tool/Markdown/UML.html">
           <a href="../../../Tool/Markdown/UML.html">
            UML
           </a>
          </li>
         </ul>
        </li>
        <li class="chapter" data-level="1.13.4" data-path="../../../Tool/博客搭建/博客搭建.html">
         <a href="../../../Tool/博客搭建/博客搭建.html">
          博客搭建
         </a>
         <ul class="articles">
          <li class="chapter" data-level="1.13.4.1" data-path="../../../Tool/博客搭建/GitBook/GitBook.html">
           <a href="../../../Tool/博客搭建/GitBook/GitBook.html">
            GitBook
           </a>
           <ul class="articles">
            <li class="chapter" data-level="1.13.4.1.1" data-path="../../../Tool/博客搭建/GitBook/plugins.html">
             <a href="../../../Tool/博客搭建/GitBook/plugins.html">
              plugins
             </a>
            </li>
           </ul>
          </li>
          <li class="chapter" data-level="1.13.4.2" data-path="../../../Tool/博客搭建/Hexo/Hexo.html">
           <a href="../../../Tool/博客搭建/Hexo/Hexo.html">
            Hexo
           </a>
           <ul class="articles">
            <li class="chapter" data-level="1.13.4.2.1" data-path="../../../Tool/博客搭建/Hexo/基础.html">
             <a href="../../../Tool/博客搭建/Hexo/基础.html">
              基础
             </a>
            </li>
            <li class="chapter" data-level="1.13.4.2.2" data-path="../../../Tool/博客搭建/Hexo/进阶.html">
             <a href="../../../Tool/博客搭建/Hexo/进阶.html">
              进阶
             </a>
            </li>
           </ul>
          </li>
         </ul>
        </li>
        <li class="chapter" data-level="1.13.5" data-path="../../../Tool/工具软件/工具软件.html">
         <a href="../../../Tool/工具软件/工具软件.html">
          工具软件
         </a>
         <ul class="articles">
          <li class="chapter" data-level="1.13.5.1" data-path="../../../Tool/工具软件/Clash.html">
           <a href="../../../Tool/工具软件/Clash.html">
            Clash
           </a>
          </li>
          <li class="chapter" data-level="1.13.5.2" data-path="../../../Tool/工具软件/Mac.html">
           <a href="../../../Tool/工具软件/Mac.html">
            Mac
           </a>
          </li>
          <li class="chapter" data-level="1.13.5.3" data-path="../../../Tool/工具软件/VSCode/VSCode.html">
           <a href="../../../Tool/工具软件/VSCode/VSCode.html">
            VSCode
           </a>
          </li>
          <li class="chapter" data-level="1.13.5.4" data-path="../../../Tool/工具软件/zsh.html">
           <a href="../../../Tool/工具软件/zsh.html">
            zsh
           </a>
          </li>
         </ul>
        </li>
        <li class="chapter" data-level="1.13.6" data-path="../../../Tool/高效学习/高效学习.html">
         <a href="../../../Tool/高效学习/高效学习.html">
          高效学习
         </a>
         <ul class="articles">
          <li class="chapter" data-level="1.13.6.1" data-path="../../../Tool/高效学习/费曼学习法.html">
           <a href="../../../Tool/高效学习/费曼学习法.html">
            费曼学习法
           </a>
          </li>
         </ul>
        </li>
       </ul>
      </li>
      <li class="chapter" data-level="1.15" data-path="../../../Web3.0/Web3.0.html">
       <a href="../../../Web3.0/Web3.0.html">
        Web3.0
       </a>
       <ul class="articles">
        <li class="chapter" data-level="1.15.1" data-path="../../../Web3.0/CSS/CSS.html">
         <a href="../../../Web3.0/CSS/CSS.html">
          CSS
         </a>
        </li>
        <li class="chapter" data-level="1.15.2" data-path="../../../Web3.0/HTML/HTML.html">
         <a href="../../../Web3.0/HTML/HTML.html">
          HTML
         </a>
        </li>
        <li class="chapter" data-level="1.15.3" data-path="../../../Web3.0/JavaScript/JavaScript.html">
         <a href="../../../Web3.0/JavaScript/JavaScript.html">
          JavaScript
         </a>
        </li>
       </ul>
      </li>
      <li class="chapter" data-level="1.16" data-path="../../../Windows/Windows.html">
       <a href="../../../Windows/Windows.html">
        Windows
       </a>
      </li>
      <li class="chapter" data-level="1.17" data-path="../../iOS.html">
       <a href="../../iOS.html">
        iOS
       </a>
       <ul class="articles">
        <li class="chapter" data-level="1.17.1" data-path="../../Allocations.html">
         <a href="../../Allocations.html">
          Allocations
         </a>
        </li>
        <li class="chapter" data-level="1.17.2" data-path="../../CocoaPods之Profile.html">
         <a href="../../CocoaPods之Profile.html">
          CocoaPods之Profile
         </a>
        </li>
        <li class="chapter" data-level="1.17.3" data-path="../../CocoaPods之podspec.html">
         <a href="../../CocoaPods之podspec.html">
          CocoaPods之podspec
         </a>
        </li>
        <li class="chapter" data-level="1.17.4" data-path="../../CocoaPods安装.html">
         <a href="../../CocoaPods安装.html">
          CocoaPods安装
         </a>
        </li>
        <li class="chapter" data-level="1.17.5" data-path="../../MVC、MVP、MVVM.html">
         <a href="../../MVC、MVP、MVVM.html">
          MVC、MVP、MVVM
         </a>
        </li>
        <li class="chapter" data-level="1.17.6" data-path="../../Mac开发.html">
         <a href="../../Mac开发.html">
          Mac开发
         </a>
        </li>
        <li class="chapter" data-level="1.17.7" data-path="../../Modules.html">
         <a href="../../Modules.html">
          Modules
         </a>
        </li>
        <li class="chapter" data-level="1.17.8" data-path="../../Notification.html">
         <a href="../../Notification.html">
          Notification
         </a>
        </li>
        <li class="chapter" data-level="1.17.9" data-path="../../Resume/Resume.html">
         <a href="../../Resume/Resume.html">
          Resume
         </a>
         <ul class="articles">
          <li class="chapter" data-level="1.17.9.1" data-path="../../Resume/Flutter.html">
           <a href="../../Resume/Flutter.html">
            Flutter
           </a>
          </li>
          <li class="chapter" data-level="1.17.9.2" data-path="../../Resume/Record.html">
           <a href="../../Resume/Record.html">
            Record
           </a>
          </li>
          <li class="chapter" data-level="1.17.9.3" data-path="../../Resume/Swift.html">
           <a href="../../Resume/Swift.html">
            Swift
           </a>
          </li>
          <li class="chapter" data-level="1.17.9.4" data-path="../../Resume/iOS.html">
           <a href="../../Resume/iOS.html">
            iOS
           </a>
          </li>
         </ul>
        </li>
        <li class="chapter" data-level="1.17.10" data-path="../../WebAssembly/WebAssembly.html">
         <a href="../../WebAssembly/WebAssembly.html">
          WebAssembly
         </a>
        </li>
        <li class="chapter" data-level="1.17.11" data-path="../../WebView/WebView.html">
         <a href="../../WebView/WebView.html">
          WebView
         </a>
         <ul class="articles">
          <li class="chapter" data-level="1.17.11.1" data-path="../../WebView/原生与WebView交互.html">
           <a href="../../WebView/原生与WebView交互.html">
            原生与WebView交互
           </a>
          </li>
          <li class="chapter" data-level="1.17.11.2" data-path="../../WebView/原生获取console.log日志.html">
           <a href="../../WebView/原生获取console.log日志.html">
            原生获取console.log日志
           </a>
          </li>
         </ul>
        </li>
        <li class="chapter" data-level="1.17.12" data-path="../../Xcode.html">
         <a href="../../Xcode.html">
          Xcode
         </a>
        </li>
        <li class="chapter" data-level="1.17.13" data-path="../../iOS经验.html">
         <a href="../../iOS经验.html">
          iOS经验
         </a>
        </li>
        <li class="chapter" data-level="1.17.14" data-path="../../libffi探究.html">
         <a href="../../libffi探究.html">
          libffi探究
         </a>
        </li>
        <li class="chapter" data-level="1.17.15" data-path="../../property.html">
         <a href="../../property.html">
          property
         </a>
        </li>
        <li class="chapter" data-level="1.17.16" data-path="../书籍.html">
         <a href="../书籍.html">
          书籍
         </a>
         <ul class="articles">
          <li class="chapter" data-level="1.17.16.1" data-path="Effective Objective-C 2.0.html">
           <a href="Effective Objective-C 2.0.html">
            Effective Objective-C 2.0
           </a>
           <ul class="articles">
            <li class="chapter" data-level="1.17.16.1.1" data-path="Chapter 1-1.html">
             <a href="Chapter 1-1.html">
              Chapter 1-1
             </a>
            </li>
            <li class="chapter" data-level="1.17.16.1.2" data-path="Chapter 2-1.html">
             <a href="Chapter 2-1.html">
              Chapter 2-1
             </a>
            </li>
            <li class="chapter" data-level="1.17.16.1.3" data-path="Chapter 2-2.html">
             <a href="Chapter 2-2.html">
              Chapter 2-2
             </a>
            </li>
            <li class="chapter" data-level="1.17.16.1.4" data-path="Chapter 2-3.html">
             <a href="Chapter 2-3.html">
              Chapter 2-3
             </a>
            </li>
            <li class="chapter" data-level="1.17.16.1.5" data-path="Chapter 3-1.html">
             <a href="Chapter 3-1.html">
              Chapter 3-1
             </a>
            </li>
            <li class="chapter" data-level="1.17.16.1.6" data-path="Chapter 4-1.html">
             <a href="Chapter 4-1.html">
              Chapter 4-1
             </a>
            </li>
            <li class="chapter" data-level="1.17.16.1.7" data-path="Chapter 5-1.html">
             <a href="Chapter 5-1.html">
              Chapter 5-1
             </a>
            </li>
            <li class="chapter" data-level="1.17.16.1.8" data-path="Chapter 5-2.html">
             <a href="Chapter 5-2.html">
              Chapter 5-2
             </a>
            </li>
            <li class="chapter" data-level="1.17.16.1.9" data-path="Chapter 5-3.html">
             <a href="Chapter 5-3.html">
              Chapter 5-3
             </a>
            </li>
            <li class="chapter" data-level="1.17.16.1.10" data-path="Chapter 6-1.html">
             <a href="Chapter 6-1.html">
              Chapter 6-1
             </a>
            </li>
            <li class="chapter" data-level="1.17.16.1.11" data-path="Chapter 6-2.html">
             <a href="Chapter 6-2.html">
              Chapter 6-2
             </a>
            </li>
            <li class="chapter" data-level="1.17.16.1.12" data-path="Chapter 6-3.html">
             <a href="Chapter 6-3.html">
              Chapter 6-3
             </a>
            </li>
            <li class="chapter" data-level="1.17.16.1.13" data-path="Chapter 7-1.html">
             <a href="Chapter 7-1.html">
              Chapter 7-1
             </a>
            </li>
            <li class="chapter active" data-level="1.17.16.1.14" data-path="Chapter 7-2.html">
             <a href="Chapter 7-2.html">
              Chapter 7-2
             </a>
            </li>
           </ul>
          </li>
         </ul>
        </li>
        <li class="chapter" data-level="1.17.17" data-path="../../工具/工具.html">
         <a href="../../工具/工具.html">
          工具
         </a>
         <ul class="articles">
          <li class="chapter" data-level="1.17.17.1" data-path="../../工具/Class-dump.html">
           <a href="../../工具/Class-dump.html">
            Class-dump
           </a>
          </li>
          <li class="chapter" data-level="1.17.17.2" data-path="../../工具/WebDriverAgent.html">
           <a href="../../工具/WebDriverAgent.html">
            WebDriverAgent
           </a>
          </li>
          <li class="chapter" data-level="1.17.17.3" data-path="../../工具/Xcodeproj.html">
           <a href="../../工具/Xcodeproj.html">
            Xcodeproj
           </a>
          </li>
          <li class="chapter" data-level="1.17.17.4" data-path="../../工具/fastlane.html">
           <a href="../../工具/fastlane.html">
            fastlane
           </a>
          </li>
          <li class="chapter" data-level="1.17.17.5" data-path="../../工具/pbxproj.html">
           <a href="../../工具/pbxproj.html">
            pbxproj
           </a>
          </li>
         </ul>
        </li>
        <li class="chapter" data-level="1.17.18" data-path="../../模块/模块.html">
         <a href="../../模块/模块.html">
          模块
         </a>
         <ul class="articles">
          <li class="chapter" data-level="1.17.18.1" data-path="../../模块/一键登录.html">
           <a href="../../模块/一键登录.html">
            一键登录
           </a>
          </li>
         </ul>
        </li>
        <li class="chapter" data-level="1.17.19" data-path="../../重构/重构.html">
         <a href="../../重构/重构.html">
          重构
         </a>
         <ul class="articles">
          <li class="chapter" data-level="1.17.19.1" data-path="../../重构/下拉刷新逻辑重构.html">
           <a href="../../重构/下拉刷新逻辑重构.html">
            下拉刷新逻辑重构
           </a>
          </li>
         </ul>
        </li>
        <li class="chapter" data-level="1.17.20" data-path="../../一个Workspace多个Project.html">
         <a href="../../一个Workspace多个Project.html">
          一个Workspace多个Project
         </a>
        </li>
        <li class="chapter" data-level="1.17.21" data-path="../../多线程/多线程.html">
         <a href="../../多线程/多线程.html">
          多线程
         </a>
         <ul class="articles">
          <li class="chapter" data-level="1.17.21.1" data-path="../../多线程/GCD.html">
           <a href="../../多线程/GCD.html">
            GCD
           </a>
          </li>
         </ul>
        </li>
        <li class="chapter" data-level="1.17.22" data-path="../../系统类/系统类.html">
         <a href="../../系统类/系统类.html">
          系统类
         </a>
         <ul class="articles">
          <li class="chapter" data-level="1.17.22.1" data-path="../../系统类/JavaScriptCore.html">
           <a href="../../系统类/JavaScriptCore.html">
            JavaScriptCore
           </a>
          </li>
          <li class="chapter" data-level="1.17.22.2" data-path="../../系统类/NSFileHandle.html">
           <a href="../../系统类/NSFileHandle.html">
            NSFileHandle
           </a>
          </li>
          <li class="chapter" data-level="1.17.22.3" data-path="../../系统类/NSKeyedArchiver.html">
           <a href="../../系统类/NSKeyedArchiver.html">
            NSKeyedArchiver
           </a>
          </li>
          <li class="chapter" data-level="1.17.22.4" data-path="../../系统类/NSUserDefaults.html">
           <a href="../../系统类/NSUserDefaults.html">
            NSUserDefaults
           </a>
          </li>
          <li class="chapter" data-level="1.17.22.5" data-path="../../系统类/UIGestureRecognizer.html">
           <a href="../../系统类/UIGestureRecognizer.html">
            UIGestureRecognizer
           </a>
          </li>
          <li class="chapter" data-level="1.17.22.6" data-path="../../系统类/UIStatusBarStyle.html">
           <a href="../../系统类/UIStatusBarStyle.html">
            UIStatusBarStyle
           </a>
          </li>
         </ul>
        </li>
        <li class="chapter" data-level="1.17.23" data-path="../../音视频/音视频.html">
         <a href="../../音视频/音视频.html">
          音视频
         </a>
         <ul class="articles">
          <li class="chapter" data-level="1.17.23.1" data-path="../../音视频/AAC.html">
           <a href="../../音视频/AAC.html">
            AAC
           </a>
          </li>
          <li class="chapter" data-level="1.17.23.2" data-path="../../音视频/FFmpeg/FFmpeg.html">
           <a href="../../音视频/FFmpeg/FFmpeg.html">
            FFmpeg
           </a>
           <ul class="articles">
            <li class="chapter" data-level="1.17.23.2.1" data-path="../../音视频/FFmpeg/源码解读.html">
             <a href="../../音视频/FFmpeg/源码解读.html">
              源码解读
             </a>
            </li>
           </ul>
          </li>
          <li class="chapter" data-level="1.17.23.3" data-path="../../音视频/FLV.html">
           <a href="../../音视频/FLV.html">
            FLV
           </a>
          </li>
          <li class="chapter" data-level="1.17.23.4" data-path="../../音视频/H264.html">
           <a href="../../音视频/H264.html">
            H264
           </a>
          </li>
          <li class="chapter" data-level="1.17.23.5" data-path="../../音视频/MP4.html">
           <a href="../../音视频/MP4.html">
            MP4
           </a>
          </li>
          <li class="chapter" data-level="1.17.23.6" data-path="../../音视频/PCM.html">
           <a href="../../音视频/PCM.html">
            PCM
           </a>
          </li>
          <li class="chapter" data-level="1.17.23.7" data-path="../../音视频/TS.html">
           <a href="../../音视频/TS.html">
            TS
           </a>
          </li>
          <li class="chapter" data-level="1.17.23.8" data-path="../../音视频/WAV.html">
           <a href="../../音视频/WAV.html">
            WAV
           </a>
          </li>
          <li class="chapter" data-level="1.17.23.9" data-path="../../音视频/WebRTC/WebRTC.html">
           <a href="../../音视频/WebRTC/WebRTC.html">
            WebRTC
           </a>
           <ul class="articles">
            <li class="chapter" data-level="1.17.23.9.1" data-path="../../音视频/WebRTC/CritScope锁.html">
             <a href="../../音视频/WebRTC/CritScope锁.html">
              CritScope锁
             </a>
            </li>
            <li class="chapter" data-level="1.17.23.9.2" data-path="../../音视频/WebRTC/从0打造音视频直播系统.html">
             <a href="../../音视频/WebRTC/从0打造音视频直播系统.html">
              从0打造音视频直播系统
             </a>
            </li>
           </ul>
          </li>
          <li class="chapter" data-level="1.17.23.10" data-path="../../音视频/YUV.html">
           <a href="../../音视频/YUV.html">
            YUV
           </a>
          </li>
          <li class="chapter" data-level="1.17.23.11" data-path="../../音视频/课程/课程.html">
           <a href="../../音视频/课程/课程.html">
            课程
           </a>
           <ul class="articles">
            <li class="chapter" data-level="1.17.23.11.1" data-path="../../音视频/课程/音视频小白系统入门课.html">
             <a href="../../音视频/课程/音视频小白系统入门课.html">
              音视频小白系统入门课
             </a>
            </li>
           </ul>
          </li>
          <li class="chapter" data-level="1.17.23.12" data-path="../../音视频/流媒体/流媒体.html">
           <a href="../../音视频/流媒体/流媒体.html">
            流媒体
           </a>
           <ul class="articles">
            <li class="chapter" data-level="1.17.23.12.1" data-path="../../音视频/流媒体/HLS.html">
             <a href="../../音视频/流媒体/HLS.html">
              HLS
             </a>
            </li>
            <li class="chapter" data-level="1.17.23.12.2" data-path="../../音视频/流媒体/HTTP-FLV.html">
             <a href="../../音视频/流媒体/HTTP-FLV.html">
              HTTP-FLV
             </a>
            </li>
            <li class="chapter" data-level="1.17.23.12.3" data-path="../../音视频/流媒体/RTMP.html">
             <a href="../../音视频/流媒体/RTMP.html">
              RTMP
             </a>
            </li>
            <li class="chapter" data-level="1.17.23.12.4" data-path="../../音视频/流媒体/RTP-RTCP-RTSP.html">
             <a href="../../音视频/流媒体/RTP-RTCP-RTSP.html">
              RTP-RTCP-RTSP
             </a>
            </li>
           </ul>
          </li>
          <li class="chapter" data-level="1.17.23.13" data-path="../../音视频/音视频同步.html">
           <a href="../../音视频/音视频同步.html">
            音视频同步
           </a>
          </li>
         </ul>
        </li>
        <li class="chapter" data-level="1.17.24" data-path="../../代码块.html">
         <a href="../../代码块.html">
          代码块
         </a>
        </li>
        <li class="chapter" data-level="1.17.25" data-path="../../问题集.html">
         <a href="../../问题集.html">
          问题集
         </a>
        </li>
        <li class="chapter" data-level="1.17.26" data-path="../../第三方库/第三方库.html">
         <a href="../../第三方库/第三方库.html">
          第三方库
         </a>
         <ul class="articles">
          <li class="chapter" data-level="1.17.26.1" data-path="../../第三方库/AFNetWorking.html">
           <a href="../../第三方库/AFNetWorking.html">
            AFNetWorking
           </a>
          </li>
         </ul>
        </li>
        <li class="chapter" data-level="1.17.27" data-path="../../系统组件/系统组件.html">
         <a href="../../系统组件/系统组件.html">
          系统组件
         </a>
         <ul class="articles">
          <li class="chapter" data-level="1.17.27.1" data-path="../../系统组件/UIButton.html">
           <a href="../../系统组件/UIButton.html">
            UIButton
           </a>
          </li>
          <li class="chapter" data-level="1.17.27.2" data-path="../../系统组件/UICollectionView.html">
           <a href="../../系统组件/UICollectionView.html">
            UICollectionView
           </a>
          </li>
          <li class="chapter" data-level="1.17.27.3" data-path="../../系统组件/UIDatePicker.html">
           <a href="../../系统组件/UIDatePicker.html">
            UIDatePicker
           </a>
          </li>
          <li class="chapter" data-level="1.17.27.4" data-path="../../系统组件/UINavigationController.html">
           <a href="../../系统组件/UINavigationController.html">
            UINavigationController
           </a>
          </li>
          <li class="chapter" data-level="1.17.27.5" data-path="../../系统组件/UISearchController.html">
           <a href="../../系统组件/UISearchController.html">
            UISearchController
           </a>
          </li>
          <li class="chapter" data-level="1.17.27.6" data-path="../../系统组件/UISheetPresentationController.html">
           <a href="../../系统组件/UISheetPresentationController.html">
            UISheetPresentationController
           </a>
          </li>
          <li class="chapter" data-level="1.17.27.7" data-path="../../系统组件/UIStatusBar.html">
           <a href="../../系统组件/UIStatusBar.html">
            UIStatusBar
           </a>
          </li>
          <li class="chapter" data-level="1.17.27.8" data-path="../../系统组件/UITabBarController.html">
           <a href="../../系统组件/UITabBarController.html">
            UITabBarController
           </a>
          </li>
          <li class="chapter" data-level="1.17.27.9" data-path="../../系统组件/UITextField.html">
           <a href="../../系统组件/UITextField.html">
            UITextField
           </a>
          </li>
          <li class="chapter" data-level="1.17.27.10" data-path="../../系统组件/UITextView.html">
           <a href="../../系统组件/UITextView.html">
            UITextView
           </a>
          </li>
          <li class="chapter" data-level="1.17.27.11" data-path="../../系统组件/UIView.html">
           <a href="../../系统组件/UIView.html">
            UIView
           </a>
          </li>
          <li class="chapter" data-level="1.17.27.12" data-path="../../系统组件/UIViewController.html">
           <a href="../../系统组件/UIViewController.html">
            UIViewController
           </a>
          </li>
          <li class="chapter" data-level="1.17.27.13" data-path="../../系统组件/WKWebview.html">
           <a href="../../系统组件/WKWebview.html">
            WKWebview
           </a>
          </li>
         </ul>
        </li>
        <li class="chapter" data-level="1.17.28" data-path="../../内存相关.html">
         <a href="../../内存相关.html">
          内存相关
         </a>
        </li>
        <li class="chapter" data-level="1.17.29" data-path="../../地图坐标系.html">
         <a href="../../地图坐标系.html">
          地图坐标系
         </a>
        </li>
        <li class="chapter" data-level="1.17.30" data-path="../../自定义转场.html">
         <a href="../../自定义转场.html">
          自定义转场
         </a>
        </li>
        <li class="chapter" data-level="1.17.31" data-path="../../内存管理机制.html">
         <a href="../../内存管理机制.html">
          内存管理机制
         </a>
        </li>
        <li class="chapter" data-level="1.17.32" data-path="../../单例完整写法.html">
         <a href="../../单例完整写法.html">
          单例完整写法
         </a>
        </li>
        <li class="chapter" data-level="1.17.33" data-path="../../检测未使用的类.html">
         <a href="../../检测未使用的类.html">
          检测未使用的类
         </a>
        </li>
        <li class="chapter" data-level="1.17.34" data-path="../../自定义对象去重.html">
         <a href="../../自定义对象去重.html">
          自定义对象去重
         </a>
        </li>
        <li class="chapter" data-level="1.17.35" data-path="../../对象什么时候加入自动释放池.html">
         <a href="../../对象什么时候加入自动释放池.html">
          对象什么时候加入自动释放池
         </a>
        </li>
       </ul>
      </li>
      <li class="chapter" data-level="1.18" data-path="../../../网络协议/网络协议.html">
       <a href="../../../网络协议/网络协议.html">
        网络协议
       </a>
       <ul class="articles">
        <li class="chapter" data-level="1.18.1" data-path="../../../网络协议/HTTP.html">
         <a href="../../../网络协议/HTTP.html">
          HTTP
         </a>
        </li>
        <li class="chapter" data-level="1.18.2" data-path="../../../网络协议/KCP.html">
         <a href="../../../网络协议/KCP.html">
          KCP
         </a>
        </li>
        <li class="chapter" data-level="1.18.3" data-path="../../../网络协议/SRWebSocket源码解析.html">
         <a href="../../../网络协议/SRWebSocket源码解析.html">
          SRWebSocket源码解析
         </a>
        </li>
        <li class="chapter" data-level="1.18.4" data-path="../../../网络协议/Socket.html">
         <a href="../../../网络协议/Socket.html">
          Socket
         </a>
        </li>
        <li class="chapter" data-level="1.18.5" data-path="../../../网络协议/TCP.html">
         <a href="../../../网络协议/TCP.html">
          TCP
         </a>
        </li>
        <li class="chapter" data-level="1.18.6" data-path="../../../网络协议/WebSocket.html">
         <a href="../../../网络协议/WebSocket.html">
          WebSocket
         </a>
        </li>
       </ul>
      </li>
      <li class="divider">
      </li>
      <li>
       <a class="gitbook-link" href="https://www.gitbook.com" target="blank">
        本书使用 GitBook 发布
       </a>
      </li>
     </ul>
    </nav>
   </div>
   <div class="book-body">
    <div class="body-inner">
     <div class="book-header" role="navigation">
      <!-- Title -->
      <h1>
       <i class="fa fa-circle-o-notch fa-spin">
       </i>
       <a href="../../..">
        Chapter 7-2
       </a>
      </h1>
     </div>
     <div class="page-wrapper" role="main" tabindex="-1">
      <div class="page-inner">
       <div id="book-search-results">
        <div class="search-noresults">
         <section class="normal markdown-section">
          <h1 id="第七章：系统框架2">
           <center>
            第七章：系统框架(2)
           </center>
          </h1>
          <h2 id="第50条：构建缓存时选用-nscache-而非-nsdictionary">
           第50条：构建缓存时选用 NSCache 而非 NSDictionary
          </h2>
          <h4 id="优点">
           优点
          </h4>
          <p>
           1、当系统资源耗尽时，NSCache 可以自动删减缓存，而且还会优先删除最久没有使用的缓存。
           <br/>
           2、NSCache 并不会&ldquo;拷贝&rdquo;键，而是&ldquo;保留&rdquo;它。不拷贝键的原因是：很多时候，键都是由不支持拷贝操作的对象充当的。
           <br/>
           3、NSCache 是线程安全的。
           <br/>
           4、可以操控缓存删减其内容的时机，有两个与系统资源相关的尺度可供调整，其一是缓存中的对象总数，其二是所有对象的&ldquo;总开销&rdquo;（overroll cost）。
          </p>
          <p>
           下面代码演示缓存的用法：
          </p>
          <pre><code class="lang-objc"><span class="hljs-meta">#import <span class="hljs-meta-string">&lt;Foundation/Foundation.h&gt;</span></span>

<span class="hljs-comment">// Network fetcher class</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-keyword">void</span>(^EOCNetworkFercherCompletionHandler)(<span class="hljs-built_in">NSData</span> *data);

<span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">EOCNetworkFetcher</span> : <span class="hljs-title">NSObject</span></span>

- (<span class="hljs-keyword">id</span>)initWithURL:(<span class="hljs-built_in">NSURL</span> *)url;  
- (<span class="hljs-keyword">void</span>)startWithCompletionHandler:(EOCNetworkFercherCompletionHandler)handler;  

<span class="hljs-keyword">@end</span>

<span class="hljs-class"><span class="hljs-keyword">@implementation</span> <span class="hljs-title">EOCClass</span> </span>{  
    <span class="hljs-built_in">NSCache</span> *_cache;  
}

- (<span class="hljs-keyword">id</span>)init {
    <span class="hljs-keyword">self</span> = [<span class="hljs-keyword">super</span> init];  
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">self</span>) {  
        _cache = [<span class="hljs-built_in">NSCache</span> new];
        <span class="hljs-comment">// 最多缓存 100 条数据</span>
        _cache.countLimit = <span class="hljs-number">100</span>;
        <span class="hljs-comment">// 最大缓存空间 5MB</span>
        _cache.totalCostLimit = <span class="hljs-number">5</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>;
    };
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;  
}

- (<span class="hljs-keyword">void</span>)downloadDataForURL:(<span class="hljs-built_in">NSURL</span> *)url {  
    <span class="hljs-built_in">NSData</span> *cachedData = [_cache objectForKey:url];  
    <span class="hljs-keyword">if</span> (cachedData) {  
        <span class="hljs-comment">// Cache hit</span>
        [<span class="hljs-keyword">self</span> useData:cachedData];  
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// Cache miss</span>
        EOCNetworkFetcher *fetcher = [[EOCNetworkFetcher alloc] initWithURL:url];  
        [fetcher startWithCompletionHandler:^(<span class="hljs-built_in">NSData</span> *data) {  
            [_cache setObject:data forKey:url cost:data.length];  
            [<span class="hljs-keyword">self</span> useData:cachedData];
        }];  
    }  
}  
<span class="hljs-keyword">@end</span>
</code></pre>
          <h4 id="nspurgeabledata">
           NSPurgeableData
          </h4>
          <p>
           NSPurgeableData 和 NSCache 搭配起来用，效果很好。此类是 NSMutableData 的子类，而且实现了 NSDiscardableContent 协议。如果某个对象所占有的内存能够根据需要随时丢弃，那么就可以实现该协议所定义的接口。当系统资源紧张时可以把保存 NSPurgeableData 对象的那块内存释放掉。NSDiscardableContent 协议定义了名为 isContentDiscarded 的方法，用来查询相关内存是否已释放。
           <br/>
           如果需要访问某个 NSPurgeableData 对象，可以调用 beginContentAccess 方法，告诉它现在还不应该丢弃自己所占据的内存。用完之后，调用 endContentAccess 方法，告诉它在必要时可以丢弃自己所占据的内存了。
          </p>
          <pre><code class="lang-objc">- (<span class="hljs-keyword">void</span>)downloadDataForURLTwo:(<span class="hljs-built_in">NSURL</span> *)url {
    <span class="hljs-built_in">NSPurgeableData</span> *cachedData = [_cache objectForKey:url];
    <span class="hljs-keyword">if</span> (cachedData) {
        [cachedData beginContentAccess];
        [<span class="hljs-keyword">self</span> useData:cacheData];
        [cachedData endContentAccess];
    } <span class="hljs-keyword">else</span> {
        EOCNetworkFetcher *fetcher = [[EOCNetworkFetcher alloc] initWithURL:url];
        [fetcher startWithCompletionHandler:^(<span class="hljs-built_in">NSData</span> *data) {
            <span class="hljs-built_in">NSPurgeableData</span> *purgeableData = [<span class="hljs-built_in">NSPurgeableData</span> dataWithData:data];
            [_cache setObject:purgeableData forKey:url cost:purgeableData.length];
            [<span class="hljs-keyword">self</span> useData:purgeableData];
            [purgeableData endContentAccess];
        }];
    }
}
</code></pre>
          <p>
           创建好 NSPurgeableData 后，其 &ldquo;purge 引用计数&rdquo;会多1，所以无需再调用 beginContentAccess 了，但使用完后必须调用 endContentAccess 方法，将多出来的 &ldquo;1&rdquo; 抵消掉。
          </p>
          <h3 id="总结">
           总结
          </h3>
          <p>
           合理的使用 NSCache 可以提高程序的响应速度。
          </p>
          <h2 id="第51条：精简-initialize-和-load-的实现代码">
           第51条：精简 initialize 和 load 的实现代码
          </h2>
          <p>
           有时候，类必须先执行某些初始化操作才能正常使用。在 Objective-C 中，绝大多数的类都继承自 NSObject 这个根类，该类有两个方法，可用来实现这种初始化操作。
          </p>
          <h3 id="load">
           load
          </h3>
          <p>
           对于加入运行期系统中的每个类（class）及分类（category）来说，必定会调用此方法，而且仅调用一次。如果分类和其所属的类都定义了 load 方法，则先调用类里的，再调用分类的。
          </p>
          <p>
           执行 load 方法时，运行期系统处于&ldquo;脆弱状态&rdquo;（fragile state）。在执行子类的 load 方法之前，必定会先执行所有父类的 load 方法，而如果代码还依赖其他程序，那么程序库里相关类的 load 方法也必定会先执行。然而，根据某个给定的程序库，却无法判断出其中各个类的载入顺序。因此，在 load 方法中使用其他类是不安全的。
          </p>
          <p>
           load 方法不像普通方法那样，它不遵从那套继承规则。如果某个类本身没实现 load 方法，那么不管其各级父类是否实现此方法，系统都不会调用。此外，分类的其所属的类里，都可能出现 load 方法。此时两种实现代码都会调用，类的实现要比分类的实现先执行。
          </p>
          <p>
           load 方法务必实现得精简一些，也就是要尽量减少其所执行操作，因为整个程序在执行 load 方法的时候都会阻塞。如果 load 方法中包含繁杂的代码，那么应用程序在执行期行就会变得无响应。也不要写等待锁，也不要调用可能会加锁的方法。
          </p>
          <h3 id="initialize">
           initialize
          </h3>
          <p>
           只有在第一次给该类发送消息之前会调用 initialize 方法。
          </p>
          <p>
           与 load 方法不同，运行系统在执行 initialize 方法时，是处于正常状态的。因此，从运行期系统完整角度上来讲，此时也可以安全使用并调用任意类中的任意方法。而且，运行期系统也能确保 initialize 方法在&ldquo;线程安全的环境&rdquo;中执行。这就是说，只有执行 initialize 的那个线程可以操作类或类实例。其他线程都要先阻塞，等着 initialize 执行完。
          </p>
          <p>
           跟其他方法一样，如果某个类未实现 initialize 方法，而父类实现了，那么就会运行父类的代码。initialize 遵循通常的继承规则。所以应该在 initialize 方法中判断是否是当前类，代码如下：
          </p>
          <pre><code class="lang-objc">+ (<span class="hljs-keyword">void</span>)initialize {
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">self</span> == [EOCBaseClass class]) {
        <span class="hljs-comment">// doSomething</span>
    }
}
</code></pre>
          <p>
           最后，initialize 和 load 一样，都应该实现的精简一些。可以用来初始化一些全局变量，
          </p>
          <h3 id="参考">
           参考
          </h3>
          <p>
           之前写的文章
           <a href="https://vhuichen.github.io/2018/04/10/180410-iOS%E5%BC%80%E5%8F%91%E4%B9%8B%E7%90%86%E8%A7%A3load%E5%92%8Cinitialize/" target="_blank">
            iOS开发之理解load和initialize
           </a>
          </p>
          <h2 id="第52条：别忘了-nstimer-会保留其目标对象">
           第52条：别忘了 NSTimer 会保留其目标对象
          </h2>
          <p>
           计时器要和&ldquo;运行循环&rdquo;（runloop）相关联，运行循环到时候会触发任务。创建 NSTimer 时，可以将其&ldquo;预先安排&rdquo;在当前的运行循环中，也可以先创建好，然后由开发者来调度。无论采用哪种方式，只有把计时器放在运行循环里，它才能正常触发任务。
          </p>
          <p>
           使用 NSTimer 很容易会造成引用循环。看看下面的例子
          </p>
          <pre><code class="lang-objc"><span class="hljs-meta">#import <span class="hljs-meta-string">&lt;Foundation/Foundation.h&gt;</span></span>

<span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">EOCClass</span> : <span class="hljs-title">NSObject</span></span>
- (<span class="hljs-keyword">void</span>)startPolling;
- (<span class="hljs-keyword">void</span>)stopPolling;
<span class="hljs-keyword">@end</span>

<span class="hljs-comment">// -- </span>

<span class="hljs-meta">#import <span class="hljs-meta-string">"EOCClass.h"</span> </span>

<span class="hljs-class"><span class="hljs-keyword">@implementation</span> <span class="hljs-title">EOCClass</span> </span>{ 
    <span class="hljs-built_in">NSTimer</span> *_pollTimer; 
} 

- (<span class="hljs-keyword">id</span>)init { 
    <span class="hljs-keyword">return</span> [<span class="hljs-keyword">super</span> init]; 
} 

- (<span class="hljs-keyword">void</span>)dealloc { 
    [_pollTimer invalidate]; 
} 

- (<span class="hljs-keyword">void</span>)stopPolling { 
    [_pollTimer invalidate]; 
    _pollTimer = <span class="hljs-literal">nil</span>;
} 

- (<span class="hljs-keyword">void</span>)startPolling { 
    _pollTimer = [<span class="hljs-built_in">NSTimer</span> scheduledTimerWithTimeInterval:<span class="hljs-number">5.0</span> target:<span class="hljs-keyword">self</span> selector:<span class="hljs-keyword">@selector</span>(p_doPoll) userInfo:<span class="hljs-literal">nil</span> repeats:<span class="hljs-literal">YES</span>]; 
} 

- (<span class="hljs-keyword">void</span>)p_doPoll { 
    <span class="hljs-comment">// Poll the resource </span>
} 
<span class="hljs-keyword">@end</span>
</code></pre>
          <p>
           上面代码中 self 强引用了 _pollTimer ，而 _pollTimer 也强引用了 self 。所以就造成了引用循环。除非手动调用 stopPolling 这个方法，否则就会出现内存泄漏。但我们无法保证开发者一定会调用这个方法。
          </p>
          <p>
           解决方法：
          </p>
          <pre><code class="lang-objc"><span class="hljs-meta">#import <span class="hljs-meta-string">&lt;Foundation/Foundation.h&gt;</span> </span>
<span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">NSTimer</span> (<span class="hljs-title">EOCBlocksSupport</span>) </span>

+ (<span class="hljs-built_in">NSTimer</span> *)eoc_timerScheduledTimerWithTimeInterval:(<span class="hljs-built_in">NSTimeInterval</span>)interval block:(<span class="hljs-keyword">void</span>(^)())block repeats:(<span class="hljs-built_in">BOOL</span>)repeats;

<span class="hljs-keyword">@end</span>

<span class="hljs-comment">// --</span>

<span class="hljs-meta">#import <span class="hljs-meta-string">"NSTimer+EOCBlocksSupport.h"</span> </span>

<span class="hljs-class"><span class="hljs-keyword">@implementation</span> <span class="hljs-title">NSTimer</span> (<span class="hljs-title">EOCBlocksSupport</span>) </span>

+ (<span class="hljs-built_in">NSTimer</span> *)eoc_timerScheduledTimerWithTimeInterval:(<span class="hljs-built_in">NSTimeInterval</span>)interval block:(<span class="hljs-keyword">void</span>(^)())block repeats:(<span class="hljs-built_in">BOOL</span>)repeats { 
    <span class="hljs-keyword">return</span> [<span class="hljs-keyword">self</span> scheduledTimerWithTimeInterval:interval target:<span class="hljs-keyword">self</span> selector:<span class="hljs-keyword">@selector</span>(eoc_blockInvoke:) userInfo:[block <span class="hljs-keyword">copy</span>] repeats:repeats]; 
}

+ (<span class="hljs-keyword">void</span>)eoc_blockInvoke:(<span class="hljs-built_in">NSTimer</span> *)timer { 
    <span class="hljs-keyword">void</span> (^block) () = timer.userInfo; 
    block ? block() : <span class="hljs-literal">nil</span>;
}

- (<span class="hljs-keyword">void</span>)startPolling {
    __<span class="hljs-keyword">weak</span> EOCClass *weakSelf = <span class="hljs-keyword">self</span>; 
    _pollTimer = [<span class="hljs-built_in">NSTimer</span> eoc_timerScheduledTimerWithTimeInterval:<span class="hljs-number">5.0</span> block:^{ 
        EOCClass *strongSelf = weakSelf; 
        [strongSelf p_doPoll]; 
    } repeats:<span class="hljs-literal">YES</span>]; 
}

- (<span class="hljs-keyword">void</span>)p_doPoll { 
    <span class="hljs-comment">// Poll the resource </span>
} 

<span class="hljs-keyword">@end</span>
</code></pre>
          <p>
           使用这种方法捕获到 weakSelf ，这样 self 就可以正常释放了，self 释放后， weakSelf 也就变为 nil 。从而打破了引用循环。
          </p>
          <h3 id="补充">
           补充
          </h3>
          <p>
           在项目中我使用另一种方法也可以用来解决这个问题，代码如下：
          </p>
          <pre><code class="lang-objc"><span class="hljs-meta">#import <span class="hljs-meta-string">&lt;Foundation/Foundation.h&gt;</span></span>

<span class="hljs-keyword">typedef</span> <span class="hljs-keyword">void</span> (^VCHTimerHandler)(<span class="hljs-keyword">id</span> userInfo);

<span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">VCHWeakTimer</span> : <span class="hljs-title">NSObject</span></span>

+ (<span class="hljs-built_in">NSTimer</span> *)scheduledTimerWithTimeInterval:(<span class="hljs-built_in">NSTimeInterval</span>)interval
                                     target:(<span class="hljs-keyword">id</span>)aTarget
                                   selector:(SEL)aSelector
                                   userInfo:(<span class="hljs-keyword">id</span>)userInfo
                                    repeats:(<span class="hljs-built_in">BOOL</span>)repeats;

+ (<span class="hljs-built_in">NSTimer</span> *)scheduledTimerWithTimeInterval:(<span class="hljs-built_in">NSTimeInterval</span>)interval
                                      block:(VCHTimerHandler)block
                                   userInfo:(<span class="hljs-keyword">id</span>)userInfo
                                    repeats:(<span class="hljs-built_in">BOOL</span>)repeats;

<span class="hljs-keyword">@end</span>
</code></pre>
          <pre><code class="lang-objc"><span class="hljs-meta">#import <span class="hljs-meta-string">"VCHWeakTimer.h"</span></span>

<span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">VCHWeakTimer</span>()</span>

<span class="hljs-keyword">@property</span>(<span class="hljs-keyword">nonatomic</span>,<span class="hljs-keyword">weak</span>) <span class="hljs-keyword">id</span> target;
<span class="hljs-keyword">@property</span>(<span class="hljs-keyword">nonatomic</span>,<span class="hljs-keyword">assign</span>) SEL selector;

<span class="hljs-keyword">@end</span>

<span class="hljs-class"><span class="hljs-keyword">@implementation</span> <span class="hljs-title">VCHWeakTimer</span></span>

- (<span class="hljs-keyword">void</span>)fire:(<span class="hljs-keyword">id</span>)obj {
<span class="hljs-meta">#pragma clang diagnostic push</span>
<span class="hljs-meta">#pragma clang diagnostic ignored <span class="hljs-meta-string">"-Warc-performSelector-leaks"</span></span>
    [<span class="hljs-keyword">self</span>.target performSelector:<span class="hljs-keyword">self</span>.selector withObject:obj];
<span class="hljs-meta">#pragma clang diagnostic pop</span>
}

+ (<span class="hljs-built_in">NSTimer</span> *)scheduledTimerWithTimeInterval:(<span class="hljs-built_in">NSTimeInterval</span>)interval
                                     target:(<span class="hljs-keyword">id</span>)aTarget
                                   selector:(SEL)aSelector
                                   userInfo:(<span class="hljs-keyword">id</span>)userInfo
                                    repeats:(<span class="hljs-built_in">BOOL</span>)repeats {
    VCHWeakTimer *weakTimer = [[VCHWeakTimer alloc] init];
    weakTimer.target = aTarget;
    weakTimer.selector = aSelector;
    <span class="hljs-keyword">return</span> [<span class="hljs-built_in">NSTimer</span> scheduledTimerWithTimeInterval:interval
                                            target:weakTimer
                                          selector:<span class="hljs-keyword">@selector</span>(fire:)
                                          userInfo:userInfo
                                           repeats:repeats];
}

+ (<span class="hljs-built_in">NSTimer</span> *)scheduledTimerWithTimeInterval:(<span class="hljs-built_in">NSTimeInterval</span>)interval
                                      block:(VCHTimerHandler)block
                                   userInfo:(<span class="hljs-keyword">id</span>)userInfo
                                    repeats:(<span class="hljs-built_in">BOOL</span>)repeats {
    <span class="hljs-built_in">NSMutableArray</span> *userInfoArray = [<span class="hljs-built_in">NSMutableArray</span> arrayWithObject:[block <span class="hljs-keyword">copy</span>]];
    <span class="hljs-keyword">if</span> (userInfo != <span class="hljs-literal">nil</span>) {
        [userInfoArray addObject:userInfo];
    }
    <span class="hljs-keyword">return</span> [<span class="hljs-keyword">self</span> scheduledTimerWithTimeInterval:interval
                                         target:<span class="hljs-keyword">self</span>
                                       selector:<span class="hljs-keyword">@selector</span>(_timerBlockInvoke:)
                                       userInfo:userInfoArray
                                        repeats:repeats];
}

- (<span class="hljs-keyword">void</span>)_timerBlockInvoke:(<span class="hljs-built_in">NSArray</span> *)userInfo {
    VCHTimerHandler block = userInfo[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">id</span> info = <span class="hljs-literal">nil</span>;
    <span class="hljs-keyword">if</span> (userInfo.count == <span class="hljs-number">2</span>) {
        info = userInfo[<span class="hljs-number">1</span>];
    }
    block ? block(info) : <span class="hljs-literal">nil</span>;
}

<span class="hljs-keyword">@end</span>
</code></pre>
          <h2 id="总结">
           总结
          </h2>
          <p>
           直接使用 NSTimer 可能会发生内存泄漏，一定要想办法处理掉这个问题。
          </p>
          <h1 id="全书-&middot;-完">
           <center>
            <font color="red">
             全书 &middot; 完
            </font>
           </center>
          </h1>
         </section>
        </div>
        <div class="search-results">
         <div class="has-results">
          <h1 class="search-results-title">
           <span class="search-results-count">
           </span>
           results matching "
           <span class="search-query">
           </span>
           "
          </h1>
          <ul class="search-results-list">
          </ul>
         </div>
         <div class="no-results">
          <h1 class="search-results-title">
           No results matching "
           <span class="search-query">
           </span>
           "
          </h1>
         </div>
        </div>
       </div>
      </div>
     </div>
    </div>
    <a aria-label="Previous page: Chapter 7-1" class="navigation navigation-prev" href="Chapter 7-1.html">
     <i class="fa fa-angle-left">
     </i>
    </a>
    <a aria-label="Next page: 工具" class="navigation navigation-next" href="../../工具/工具.html">
     <i class="fa fa-angle-right">
     </i>
    </a>
   </div>
   <script>
    var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Chapter 7-2","date":"2018-05-29T00:00:00.000Z","tags":["Effective Objective-C 2.0"],"category":"iOS开发","level":"1.17.16.1.14","depth":4,"next":{"title":"工具","level":"1.17.17","depth":2,"path":"iOS/工具/工具.md","ref":"iOS/工具/工具.md","articles":[{"title":"Class-dump","level":"1.17.17.1","depth":3,"path":"iOS/工具/Class-dump.md","ref":"iOS/工具/Class-dump.md","articles":[]},{"title":"WebDriverAgent","level":"1.17.17.2","depth":3,"path":"iOS/工具/WebDriverAgent.md","ref":"iOS/工具/WebDriverAgent.md","articles":[]},{"title":"Xcodeproj","level":"1.17.17.3","depth":3,"path":"iOS/工具/Xcodeproj.md","ref":"iOS/工具/Xcodeproj.md","articles":[]},{"title":"fastlane","level":"1.17.17.4","depth":3,"path":"iOS/工具/fastlane.md","ref":"iOS/工具/fastlane.md","articles":[]},{"title":"pbxproj","level":"1.17.17.5","depth":3,"path":"iOS/工具/pbxproj.md","ref":"iOS/工具/pbxproj.md","articles":[]}]},"previous":{"title":"Chapter 7-1","level":"1.17.16.1.13","depth":4,"path":"iOS/书籍/Effective Objective-C 2.0/Chapter 7-1.md","ref":"iOS/书籍/Effective Objective-C 2.0/Chapter 7-1.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-lunr","-search","expandable-chapters","search-pro"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"expandable-chapters":{},"search-pro":{},"highlight":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}},"theme":"default","author":"vhuichen","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"NoteBook","language":"zh-hans","gitbook":"*","description":"笔记、分享"},"file":{"path":"iOS/书籍/Effective Objective-C 2.0/Chapter 7-2.md","mtime":"2018-07-01T08:21:50.076Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2024-07-07T11:52:44.602Z"},"basePath":"../../..","book":{"language":""}});
        });
   </script>
  </div>
  <script src="../../../gitbook/gitbook.js">
  </script>
  <script src="../../../gitbook/theme.js">
  </script>
  <script src="../../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js">
  </script>
  <script src="../../../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js">
  </script>
  <script src="../../../gitbook/gitbook-plugin-search-pro/search.js">
  </script>
  <script src="../../../gitbook/gitbook-plugin-sharing/buttons.js">
  </script>
  <script src="../../../gitbook/gitbook-plugin-fontsettings/fontsettings.js">
  </script>
 </body>
</html>
